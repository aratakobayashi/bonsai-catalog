# ç›†æ ½ã‚«ã‚¿ãƒ­ã‚° ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ†æãƒ¬ãƒãƒ¼ãƒˆ

## ğŸ“Š ãƒ“ãƒ«ãƒ‰åˆ†æçµæœ

### ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º
- **First Load JS (å…±é€š)**: 80.5 kB âœ… è‰¯å¥½
- **æœ€å¤§ãƒšãƒ¼ã‚¸ã‚µã‚¤ã‚º**: /products - 154 kB âš ï¸ ã‚„ã‚„å¤§ãã„
- **æœ€å°ãƒšãƒ¼ã‚¸ã‚µã‚¤ã‚º**: / - 87.5 kB âœ… è‰¯å¥½

### ä¸»è¦ãƒšãƒ¼ã‚¸ã®ã‚µã‚¤ã‚ºå†…è¨³
| ãƒšãƒ¼ã‚¸ | ã‚µã‚¤ã‚º | First Load JS | è©•ä¾¡ |
|--------|--------|---------------|------|
| / (ãƒ›ãƒ¼ãƒ ) | 181 B | 87.5 kB | âœ… |
| /products | 12.3 kB | 154 kB | âš ï¸ |
| /gardens | 6.24 kB | 142 kB | âš ï¸ |
| /guides/[slug] | 12.2 kB | 113 kB | âš ï¸ |
| /products/[id] | 3.81 kB | 104 kB | âœ… |

## ğŸš¨ ç‰¹å®šã—ãŸå•é¡Œç‚¹

### 1. ç”»åƒæœ€é©åŒ–ã®èª²é¡Œ
- **å•é¡Œ**: Next.js Imageã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ãŒã€è¨­å®šã«æ”¹å–„ä½™åœ°ã‚ã‚Š
- **å½±éŸ¿**:
  - minimumCacheTTL: 0 ã«ã‚ˆã‚Šã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒç„¡åŠ¹åŒ–ã•ã‚Œã¦ã„ã‚‹
  - ç”»åƒã®é…å»¶èª­ã¿è¾¼ã¿ãŒä¸€éƒ¨ã§ä¸é©åˆ‡
  - priorityå±æ€§ã®ä½¿ç”¨ãŒé™å®šçš„

### 2. ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºã®å•é¡Œ
- **å¤§ããªãƒšãƒ¼ã‚¸**:
  - /products (154 kB) - å•†å“ä¸€è¦§ã®å…¨ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿
  - /gardens (142 kB) - ç›†æ ½åœ’ä¸€è¦§ã®å…¨ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿
- **åŸå› **: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã§ã®éå‰°ãªãƒ‡ãƒ¼ã‚¿å–å¾—

### 3. ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿è¨­å®šã®è­¦å‘Š
- **å•é¡Œ**: metadata.metadataBaseãŒæœªè¨­å®š
- **å½±éŸ¿**: OGPç”»åƒã‚„Twitterã‚«ãƒ¼ãƒ‰ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œãªã„å¯èƒ½æ€§

### 4. Node.js ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®è­¦å‘Š
- **å•é¡Œ**: Node.js 18ä»¥ä¸‹ã¯éæ¨å¥¨
- **æ¨å¥¨**: Node.js 20ä»¥é™ã¸ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰

### 5. Critical Dependencyè­¦å‘Š
- **å•é¡Œ**: @supabase/realtime-jsã®å‹•çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
- **å½±éŸ¿**: ãƒ“ãƒ«ãƒ‰æ™‚ã®è­¦å‘Šã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¸ã®æ½œåœ¨çš„å½±éŸ¿

## ğŸ¯ Core Web Vitalsæ”¹å–„ææ¡ˆ

### å„ªå…ˆåº¦: é«˜ ğŸ”´

#### 1. ç”»åƒæœ€é©åŒ–ã®æ”¹å–„
```javascript
// next.config.js ã®ä¿®æ­£
images: {
  minimumCacheTTL: 60 * 60 * 24 * 30, // 30æ—¥é–“ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥
  formats: ['image/avif', 'image/webp'], // AVIFå„ªå…ˆ
}
```

#### 2. å‹•çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆã¨ã‚³ãƒ¼ãƒ‰åˆ†å‰²
```typescript
// å¤§ããªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®é…å»¶èª­ã¿è¾¼ã¿
const ProductCard = dynamic(() => import('@/components/features/ProductCard'), {
  loading: () => <ProductCardSkeleton />,
  ssr: true
})
```

#### 3. ãƒ‡ãƒ¼ã‚¿å–å¾—ã®æœ€é©åŒ–
```typescript
// ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…
const ITEMS_PER_PAGE = 12
// åˆæœŸè¡¨ç¤ºã¯12å€‹ã«åˆ¶é™ã—ã€ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã§è¿½åŠ èª­ã¿è¾¼ã¿
```

### å„ªå…ˆåº¦: ä¸­ ğŸŸ¡

#### 4. ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®è¨­å®š
```typescript
// app/layout.tsx
export const metadata: Metadata = {
  metadataBase: new URL('https://bonsai-catalog.com'),
  // ...
}
```

#### 5. ãƒ•ã‚©ãƒ³ãƒˆæœ€é©åŒ–
```typescript
// next/font/localã‚’ä½¿ç”¨ã—ãŸæ—¥æœ¬èªãƒ•ã‚©ãƒ³ãƒˆã®æœ€é©åŒ–
import { Noto_Sans_JP } from 'next/font/google'

const notoSansJP = Noto_Sans_JP({
  weight: ['400', '700'],
  subsets: ['latin'],
  display: 'swap',
})
```

### å„ªå…ˆåº¦: ä½ ğŸŸ¢

#### 6. ãƒªã‚½ãƒ¼ã‚¹ãƒ’ãƒ³ãƒˆã®è¿½åŠ 
```html
<!-- DNS Prefetch -->
<link rel="dns-prefetch" href="https://m.media-amazon.com" />
<link rel="preconnect" href="https://res.cloudinary.com" />
```

## ğŸ“ˆ æœŸå¾…ã•ã‚Œã‚‹æ”¹å–„åŠ¹æœ

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚¹ã‚³ã‚¢æ”¹å–„
- **ç¾åœ¨æ¨å®š**: 70-80ç‚¹
- **æ”¹å–„å¾Œç›®æ¨™**: 90-95ç‚¹

### Core Web Vitalsç›®æ¨™
| æŒ‡æ¨™ | ç¾åœ¨ï¼ˆæ¨å®šï¼‰ | ç›®æ¨™ |
|------|------------|------|
| LCP | 2.5-3.5ç§’ | < 2.5ç§’ |
| FID | < 100ms | < 100ms |
| CLS | 0.1-0.25 | < 0.1 |
| FCP | 1.5-2.5ç§’ | < 1.8ç§’ |

### ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºå‰Šæ¸›ç›®æ¨™
- /products: 154 kB â†’ 100 kBä»¥ä¸‹ï¼ˆ-35%ï¼‰
- /gardens: 142 kB â†’ 100 kBä»¥ä¸‹ï¼ˆ-30%ï¼‰

## ğŸ›  å®Ÿè£…å„ªå…ˆé †ä½

1. **å³åº§ã«å®Ÿè£…ã™ã¹ãé …ç›®**
   - minimumCacheTTLã®ä¿®æ­£
   - metadataBaseã®è¨­å®š
   - ç”»åƒã®priorityå±æ€§ã®é©åˆ‡ãªè¨­å®š

2. **ä»Šé€±ä¸­ã«å®Ÿè£…ã™ã¹ãé …ç›®**
   - ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿè£…
   - å‹•çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆã®æ´»ç”¨
   - ãƒ•ã‚©ãƒ³ãƒˆæœ€é©åŒ–

3. **ä»Šæœˆä¸­ã«å®Ÿè£…ã™ã¹ãé …ç›®**
   - Infinite Scrollã®å®Ÿè£…
   - Service Workerã«ã‚ˆã‚‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥
   - ãƒªã‚½ãƒ¼ã‚¹ãƒ’ãƒ³ãƒˆã®è¿½åŠ 

## ğŸ“Š è¨ˆæ¸¬æ–¹æ³•

### Lighthouse CIè¨­å®š
```bash
# ç¶™ç¶šçš„ãªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–
npm install -g @lhci/cli
lhci autorun
```

### Real User Monitoring (RUM)
- Vercel Analyticså°å…¥æ¤œè¨
- Google Analytics 4ã®Core Web Vitalsè¨ˆæ¸¬

## ã¾ã¨ã‚

ç¾åœ¨ã®ã‚µã‚¤ãƒˆã¯åŸºæœ¬çš„ãªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¯è‰¯å¥½ã§ã™ãŒã€ä»¥ä¸‹ã®ç‚¹ã§æ”¹å–„ã®ä½™åœ°ãŒã‚ã‚Šã¾ã™ï¼š

1. **ç”»åƒã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æœ‰åŠ¹åŒ–**ã§å¤§å¹…ãªæ”¹å–„ãŒè¦‹è¾¼ã‚ã‚‹
2. **ãƒ‡ãƒ¼ã‚¿å–å¾—ã®æœ€é©åŒ–**ã§Initial Loadæ™‚é–“ã‚’çŸ­ç¸®
3. **ã‚³ãƒ¼ãƒ‰åˆ†å‰²**ã§ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºã‚’å‰Šæ¸›

ã“ã‚Œã‚‰ã®æ”¹å–„ã«ã‚ˆã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®å‘ä¸Šã¨SEOãƒ©ãƒ³ã‚­ãƒ³ã‚°ã®æ”¹å–„ãŒæœŸå¾…ã§ãã¾ã™ã€‚
# 内製CMS 要件定義書

## 📋 プロジェクト概要
WordPressから内製CMSへの完全移行により、パフォーマンス向上とコンテンツ管理の最適化を実現

## 🎯 要件定義

### **記事作成体験**
- **WYSIWYG エディター**: Markdownの知識不要
- **ドラッグ&ドロップ画像アップロード**: 自動最適化機能付き
- **リアルタイムプレビュー**: 執筆画面の隣に表示

### **機能要件**
- **関連商品**: キーワードベース自動推薦（手動設定不要）
- **カテゴリー・タグ**: 固定リストから選択 + 新規作成可能
- **公開フロー**: 即座公開（予約・履歴管理不要）

### **セキュリティ要件**
- **管理画面**: 認証必須（プロジェクト管理者専用アクセス）
- **一般ページ**: 従来通り一般公開

## 🏗 アーキテクチャ設計

```
src/
├── app/
│   ├── admin/              # 管理画面（認証必須）
│   │   ├── articles/
│   │   │   ├── page.tsx    # 記事一覧
│   │   │   ├── new/page.tsx # 新規作成
│   │   │   └── [id]/edit/page.tsx # 編集
│   │   └── layout.tsx      # 認証チェック
│   ├── guides/             # 既存（一般公開）
│   └── api/
│       ├── articles/       # CRUD API
│       └── upload/         # 画像アップロード
├── components/
│   ├── admin/
│   │   ├── WYSIWYGEditor.tsx
│   │   ├── ImageUploader.tsx
│   │   └── ArticlePreview.tsx
└── lib/
    ├── content-manager.ts  # ファイル管理
    └── auth.ts            # 認証
```

## 🚀 実装フェーズ

### **Phase 1: 基本CRUD（1-2日）**
- 管理画面UI構築
- 記事作成・編集・削除機能

### **Phase 2: 高度機能（2-3日）**
- 画像アップロード
- リアルタイムプレビュー
- 関連商品自動推薦

### **Phase 3: WordPress記事移行**
- 既存WordPress記事コンテンツの内製CMS移行
- 画像・メタデータの移行
- URL構造保持

## 📊 期待効果
- **パフォーマンス**: フィルタリング数秒 → 瞬時
- **可用性**: 外部依存なし → 100%
- **SEO**: Next.js静的生成で最適化
- **開発効率**: 統合された商品推薦システム

## ✅ 承認済み要件
- 記事作成者: プロジェクト管理者のみ
- エディタ形式: WYSIWYG（Markdown不要）
- 画像管理: ドラッグ&ドロップ対応
- セキュリティ: 管理画面認証必須
- 移行方針: WordPress記事内容を内製CMSへ完全移行